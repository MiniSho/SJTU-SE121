# Homework 4

* 编写一段程序，比较红黑树在随机生成的节点数为N=10^4,10^5,10^6的树中进行随机插入的比较，并给出树的高度。

  i) 对于节点数为N的树进行N/100次随机插入操作，给出插入的时间。（可以用表格给出时间数据）

  ii) 给出插入操作中双红修正的总次数。（可以用表格给出数据）

  为了减少工作量，可以在教材原红黑树的基础上修改，**注：第一题不用提交程序**。

  |             | 插入时间(ms) | 双红修正次数 | 根节点黑高度 |
  | ----------- | ------------ | ------------ | ------------ |
  | N = 10000   | 0            | 80           | 8            |
  | N = 100000  | 0.994        | 876          | 10           |
  | N = 1000000 | 13.2         | 9243         | 14           |



* i) 对于如下一段数字 (10,12), (1, 2), (4, 7), (1, 20), (25, 27), (29, 22), (24, 31), (4,15)建立一颗2-d树，给出建树后从根节点开始从左至右顺序每个节点存储的数据.形式(10，12) - (x,x) - (x,x)。(不需要编程)

  ii) 给出若确定中位点时间复杂度能够在线性时间内确定，则 kd-树构造算法总体时间复杂度可被优化至O(nlogn)的说明。

  * **Solution**

    i)  (1,2) -  (4,7) - (1,20) - (4,15) - (10,12) - (29,22) - (24,31) - (25,27)

    ii) 当选出一个维度上的中位数，并将在该维度上小于该中位数的置于其左边，其余置于右边，这样可以保证每次分成的左右子树大小尽可能会相等，由此可以发现，这样构成的kd树的高度最多为$O(logn)$ ，因此只会需要选择小于树高的次数 $O(logn)$次即可完成一个节点的构建。由于确定中位点的时间复杂度可以在线性时间完成，即$O(n)$的时间。
    
    综上可得，确定中位点需要时间复杂度为$O(n)$， 一次选择需要时间复杂度为$O(logn)$,最后kd树构造总体时间复杂度可以优化为$O(nlogn)$.